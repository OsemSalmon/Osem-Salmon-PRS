{"ast":null,"code":"import { db } from \"../firebase/config\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport getCollection from \"../composables/getCollection\";\nimport getUserAuth from \"../composables/getUserAuth\";\nexport default {\n  setup: function setup() {\n    var _getUserAuth = getUserAuth(),\n        userAuth = _getUserAuth.userAuth;\n\n    var _getCollection = getCollection('staff', ['uid', '==', userAuth.value.uid]),\n        staff = _getCollection.documents;\n\n    var handleUpdate = function handleUpdate(staff) {\n      var docRef = doc(db, 'staff', staff.uid);\n      updateDoc(docRef, {\n        fullname: staff.fullname,\n        pNumber: staff.pNumber\n      });\n    };\n\n    return {\n      staff: staff,\n      userAuth: userAuth,\n      handleUpdate: handleUpdate\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\userProfile.vue"],"names":[],"mappings":"AAkGA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,oBAA/B;AACA,OAAO,aAAP,MAA0B,8BAA1B;AACA,OAAO,WAAP,MAAwB,4BAAxB;AAEA,eAAe;EACX,KADW,mBACF;IACL,mBAAqB,WAAW,EAAhC;IAAA,IAAQ,QAAR,gBAAQ,QAAR;;IACA,qBAA6B,aAAa,CAAC,OAAD,EAC1C,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAQ,CAAC,KAAT,CAAe,GAA7B,CAD0C,CAA1C;IAAA,IAAmB,KAAnB,kBAAQ,SAAR;;IAGA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,KAAD,EAAW;MAC5B,IAAM,MAAK,GAAI,GAAG,CAAC,EAAD,EAAK,OAAL,EAAc,KAAK,CAAC,GAApB,CAAlB;MAEA,SAAS,CAAC,MAAD,EAAS;QACd,QAAQ,EAAE,KAAK,CAAC,QADF;QAEd,OAAO,EAAE,KAAK,CAAC;MAFD,CAAT,CAAT;IAIJ,CAPA;;IASA,OAAO;MACH,KAAK,EAAL,KADG;MACI,QAAQ,EAAR,QADJ;MACc,YAAW,EAAX;IADd,CAAP;EAGJ;AAlBW,CAAf","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <h1 class=\"display-6\">Profile</h1>\r\n      </div>\r\n      <div class=\"col\"></div>\r\n      <div class=\"col\"></div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-3\">\r\n        <img src=\"https://via.placeholder.com/150\" class=\"img-fluid\" alt=\"\">\r\n      </div>\r\n      <div class=\"col\" v-for=\"staff in staff\" :key=\"staff.uid\">\r\n        <form @submit.prevent>\r\n\r\n            <div class=\"mb-3\">\r\n                <label for=\"exampleInputEmail1\" class=\"form-label\">User ID</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"staff.uid\" disabled>\r\n                <div id=\"emailHelp\" class=\"form-text\">You are not allowed to change this value.</div>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <label for=\"exampleInputEmail1\" class=\"form-label\">Name</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"staff.fullname\">\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <label for=\"exampleInputEmail1\" class=\"form-label\">Contact Number</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"staff.pNumber\">\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <button class=\"btn btn-primary\"></button>\r\n            </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"col-3\" v-for=\"staff in staff\" :key=\"staff.uid\">\r\n        <div class=\"mb-3\">\r\n            \r\n            <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\r\n            Change Email\r\n            </button>\r\n\r\n            <button type=\"button\" class=\"btn btn-primary ms-2\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop2\">\r\n            Change Password\r\n            </button>\r\n\r\n\r\n            <!-- Email Modal -->\r\n            <div class=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Modal title</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    email modal\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" class=\"btn btn-primary\">Understood</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n\r\n            <!-- Password Modal -->\r\n            <div class=\"modal fade\" id=\"staticBackdrop2\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel2\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Modal title</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        password modal\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\">Understood</button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <label for=\"exampleInputEmail1\" class=\"form-label mt-3\">Email Address</label>\r\n            <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"staff.email\" disabled>\r\n        </div>         \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db } from \"../firebase/config\"\r\nimport { doc, updateDoc } from \"firebase/firestore\"\r\nimport getCollection from \"../composables/getCollection\"\r\nimport getUserAuth from \"../composables/getUserAuth\"\r\n\r\nexport default {\r\n    setup () {\r\n        const { userAuth } = getUserAuth()\r\n        const { documents: staff } = getCollection('staff', \r\n        ['uid', '==', userAuth.value.uid])\r\n\r\n        const handleUpdate = (staff) => {\r\n            const docRef = doc(db, 'staff', staff.uid)\r\n\r\n            updateDoc(docRef, {\r\n                fullname: staff.fullname,\r\n                pNumber: staff.pNumber,\r\n            })\r\n        }\r\n\r\n        return {\r\n            staff, userAuth, handleUpdate\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}