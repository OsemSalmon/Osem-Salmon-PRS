{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, createTextVNode as _createTextVNode } from \"vue\";\nvar _hoisted_1 = {\n  class: \"navbar bg-light sticky-top\"\n};\nvar _hoisted_2 = {\n  class: \"container-fluid\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand material-icons\",\n  href: \"#\"\n}, \"vaccines\", -1\n/* HOISTED */\n);\n\nvar _hoisted_4 = {\n  key: 0\n};\nvar _hoisted_5 = {\n  class: \"nav\"\n};\nvar _hoisted_6 = {\n  key: 0,\n  class: \"nav-item\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-house-door\"\n}, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = {\n  key: 1,\n  class: \"nav-item\"\n};\n\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\"\n}, \"account_circle\", -1\n/* HOISTED */\n);\n\nvar _hoisted_10 = [\"onSubmit\"];\n\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"button\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_12 = [_hoisted_11];\nvar _hoisted_13 = {\n  key: 2,\n  class: \"nav-item\"\n};\n\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\"\n}, \"group\", -1\n/* HOISTED */\n);\n\nvar _hoisted_15 = {\n  key: 3,\n  class: \"nav-item\"\n};\n\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\"\n}, \"logout\", -1\n/* HOISTED */\n);\n\nvar _hoisted_17 = [_hoisted_16];\nvar _hoisted_18 = {\n  key: 4,\n  class: \"nav-item\"\n};\n\nvar _hoisted_19 = /*#__PURE__*/_createTextVNode(\"Login\");\n\nvar _hoisted_20 = {\n  key: 5,\n  class: \"nav-item\"\n};\n\nvar _hoisted_21 = /*#__PURE__*/_createTextVNode(\"Sign Up\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, $setup.userAuth ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($setup.userAuth.email), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", _hoisted_5, [$setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"btn btn-outline-dark\",\n    \"aria-current\": \"page\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_7];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true), $setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: \"/userProfile/\".concat($setup.userAuth.uid),\n    class: \"nav-link active\",\n    \"aria-current\": \"page\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_9];\n    }),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.staff, function (staff) {\n    return _openBlock(), _createElementBlock(\"form\", {\n      key: staff.id,\n      onSubmit: _withModifiers(function ($event) {\n        return $setup.handleUpdate(staff);\n      }, [\"prevent\"])\n    }, _hoisted_12, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_10);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_13, [_createVNode(_component_router_link, {\n    to: \"/staffRecord\",\n    class: \"nav-link active\",\n    \"aria-current\": \"page\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_14];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true), $setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_15, [_createElementVNode(\"a\", {\n    class: \"nav-link btn btn-outline-light\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $setup.handleClick && $setup.handleClick.apply($setup, arguments);\n    })\n  }, _hoisted_17)])) : _createCommentVNode(\"v-if\", true), !$setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_18, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_19];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true), !$setup.userAuth ? (_openBlock(), _createElementBlock(\"li\", _hoisted_20, [_createVNode(_component_router_link, {\n    to: \"/signup\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_21];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\components\\Navbar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <nav class=\"navbar bg-light sticky-top\">\n      <div class=\"container-fluid\">\n        \n        <a class=\"navbar-brand material-icons\" href=\"#\">vaccines</a>\n        <span v-if=\"userAuth\">{{ userAuth.email }}</span>\n\n        <ul class=\"nav\">\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link to=\"/\" class=\"btn btn-outline-dark\" aria-current=\"page\"><i class=\"bi bi-house-door\"></i></router-link>\n          </li>\n\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link :to=\"`/userProfile/${userAuth.uid}`\" class=\"nav-link active\" aria-current=\"page\"><span class=\"material-icons\">account_circle</span></router-link>\n          </li>\n          <form v-for=\"staff in staff\" :key=\"staff.id\" @submit.prevent=\"handleUpdate(staff)\">\n          <button></button>\n          </form>\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link to=\"/staffRecord\" class=\"nav-link active\" aria-current=\"page\"><span class=\"material-icons\">group</span></router-link>\n          </li>\n\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <a class=\"nav-link btn btn-outline-light\" @click=\"handleClick\"><span class=\"material-icons\">logout</span></a>\n          </li>\n          \n          <li class=\"nav-item\" v-if=\"!userAuth\">\n            <router-link to=\"/login\" class=\"nav-link\">Login</router-link>\n          </li>\n          <li class=\"nav-item\" v-if=\"!userAuth\">\n            <router-link to=\"/signup\" class=\"nav-link\">Sign Up</router-link>\n          </li>\n        </ul>  \n      </div>\n    </nav>\n\n</template>\n\n<script>\nimport { auth } from '../firebase/config'\nimport { signOut } from '@firebase/auth'\nimport { useRouter, useRoute } from 'vue-router'\nimport { watchEffect } from 'vue'\nimport { doc, updateDoc } from \"firebase/firestore\"\nimport { db } from \"../firebase/config\"\n\nimport getUserAuth from '../composables/getUserAuth'\nimport getCollection from '../composables/getCollection'\n\nexport default {\n  setup() {\n    const { userAuth } = getUserAuth()\n    const router = useRouter()\n    const route = useRoute()\n\n    const { documents: staff } = getCollection(\"staff\",\n    ['email', '==', userAuth.value.email])\n\n    const handleUpdate = (staff) => {\n      const docRef = doc(db, \"staff\", staff.id)\n      updateDoc(docRef, {\n        uid: userAuth.value.uid\n      })\n    }\n\n    const handleClick = () => {\n      signOut(auth)\n      router.push('/login')\n    }\n\n    watchEffect(() => {\n      if(!userAuth.value) {\n        if(route.name !== 'Login' && route.name !== 'Signup') {\n          router.push('/login')\n        }\n      }\n    })\n\n    return { handleClick, userAuth, staff, handleUpdate }\n  }\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}