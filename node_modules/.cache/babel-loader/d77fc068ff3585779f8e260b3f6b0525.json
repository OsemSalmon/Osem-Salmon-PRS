{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, createStaticVNode as _createStaticVNode } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"row mt-3 border\\\"><div class=\\\"col\\\"><h1 class=\\\"display-6\\\">Profile</h1></div><div class=\\\"col\\\"></div><div class=\\\"col\\\"></div></div><hr>\", 2);\n\nvar _hoisted_3 = {\n  class: \"row\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-3\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://via.placeholder.com/150\",\n  class: \"img-fluid\",\n  alt: \"\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = {\n  class: \"col\"\n};\nvar _hoisted_6 = {\n  class: \"mb-3\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"User ID\", -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = [\"onUpdate:modelValue\"];\nvar _hoisted_9 = {\n  class: \"mb-3\"\n};\n\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Email\", -1\n/* HOISTED */\n);\n\nvar _hoisted_11 = [\"onUpdate:modelValue\"];\n\nvar _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-text\"\n}, \"You are not allowed to change these values.\", -1\n/* HOISTED */\n);\n\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_14 = [\"onSubmit\"];\nvar _hoisted_15 = {\n  class: \"mb-3\"\n};\n\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Name\", -1\n/* HOISTED */\n);\n\nvar _hoisted_17 = [\"onUpdate:modelValue\"];\nvar _hoisted_18 = {\n  class: \"mb-3\"\n};\n\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Contact Number\", -1\n/* HOISTED */\n);\n\nvar _hoisted_20 = [\"onUpdate:modelValue\"];\nvar _hoisted_21 = {\n  class: \"mb-3\"\n};\n\nvar _hoisted_22 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Address\", -1\n/* HOISTED */\n);\n\nvar _hoisted_23 = [\"onUpdate:modelValue\"];\n\nvar _hoisted_24 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mb-3 float-end\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#staticBackdrop2\"\n}, \" Change Password \"), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-primary ms-1\"\n}, \"Update\")], -1\n/* HOISTED */\n);\n\nvar _hoisted_25 = {\n  class: \"col-3\"\n};\nvar _hoisted_26 = {\n  class: \"mb-3\"\n};\nvar _hoisted_27 = {\n  class: \"modal fade\",\n  id: \"staticBackdrop2\",\n  \"data-bs-backdrop\": \"static\",\n  \"data-bs-keyboard\": \"false\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"staticBackdropLabel2\",\n  \"aria-hidden\": \"true\"\n};\nvar _hoisted_28 = {\n  class: \"modal-dialog\"\n};\nvar _hoisted_29 = {\n  class: \"modal-content\"\n};\n\nvar _hoisted_30 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"modal-title\",\n  id: \"staticBackdropLabel\"\n}, \"Change Password\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_31 = {\n  class: \"modal-body\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_editUserPassword = _resolveComponent(\"editUserPassword\");\n\n  return _openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.staff, function (staff) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"container\",\n      key: staff.id\n    }, [_hoisted_1, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return staff.uid = $event;\n      },\n      disabled: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_8), [[_vModelText, staff.uid]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return staff.email = $event;\n      },\n      disabled: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_11), [[_vModelText, staff.email]]), _hoisted_12]), _hoisted_13, _createElementVNode(\"form\", {\n      onSubmit: _withModifiers(function ($event) {\n        return $setup.handleUpdate(staff);\n      }, [\"prevent\"])\n    }, [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return staff.fullname = $event;\n      }\n    }, null, 8\n    /* PROPS */\n    , _hoisted_17), [[_vModelText, staff.fullname]])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return staff.pNumber = $event;\n      }\n    }, null, 8\n    /* PROPS */\n    , _hoisted_20), [[_vModelText, staff.pNumber]])]), _createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return staff.address = $event;\n      }\n    }, null, 8\n    /* PROPS */\n    , _hoisted_23), [[_vModelText, staff.address]])]), _hoisted_24], 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_14)]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_hoisted_30, _createElementVNode(\"div\", _hoisted_31, [_createVNode(_component_editUserPassword)])])])])])])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  );\n}","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\userProfile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container\" v-for=\"staff in staff\" :key=\"staff.id\">\r\n    <div class=\"row mt-3 border\">\r\n      <div class=\"col\">\r\n        <h1 class=\"display-6\">Profile</h1>\r\n      </div>\r\n      <div class=\"col\"></div>\r\n      <div class=\"col\"></div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-3\">\r\n        <img src=\"https://via.placeholder.com/150\" class=\"img-fluid\" alt=\"\">\r\n      </div>\r\n      <div class=\"col\">\r\n        \r\n            <div class=\"mb-3\">\r\n                <label class=\"form-label\">User ID</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"staff.uid\" disabled>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <label class=\"form-label\">Email</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"staff.email\" disabled>\r\n                <div class=\"form-text\">You are not allowed to change these values.</div>\r\n            </div>\r\n        <hr/>\r\n        <form @submit.prevent=\"handleUpdate(staff)\">\r\n            <div class=\"mb-3\">\r\n                <label class=\"form-label\">Name</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"staff.fullname\">\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <label class=\"form-label\">Contact Number</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"staff.pNumber\">\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n                <label class=\"form-label\">Address</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"staff.address\">\r\n            </div>\r\n\r\n            <div class=\"mb-3 float-end\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop2\">\r\n                Change Password\r\n                </button>\r\n                <button class=\"btn btn-primary ms-1\">Update</button>\r\n            </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"col-3\">\r\n        <div class=\"mb-3\">\r\n            <div class=\"modal fade\" id=\"staticBackdrop2\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel2\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Change Password</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <editUserPassword/>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>         \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { db } from \"../firebase/config\"\r\nimport { doc, updateDoc } from \"firebase/firestore\"\r\n\r\nimport getCollection from \"../composables/getCollection\"\r\nimport getUserAuth from \"../composables/getUserAuth\"\r\nimport editUserPassword from \"../components/editUserPassword.vue\"\r\n\r\nexport default {\r\n    setup() {\r\n        const { userAuth } = getUserAuth()\r\n        const { documents: staff } = getCollection(\"staff\", [\"uid\", \"==\", userAuth.value.uid])\r\n        const handleUpdate = (staff) => {\r\n            const docRef = doc(db, \"staff\", staff.id)\r\n            updateDoc(docRef, {\r\n                fullname: staff.fullname,\r\n                pNumber: staff.pNumber,\r\n                address: staff.address\r\n            });\r\n            alert(\"Profile updated\")\r\n        }\r\n        return {\r\n            staff,\r\n            userAuth,\r\n            handleUpdate\r\n        }\r\n    },\r\n    components: { editUserPassword }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}