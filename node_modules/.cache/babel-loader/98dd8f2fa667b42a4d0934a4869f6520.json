{"ast":null,"code":"var userUID = userAuth.uid;\nimport { auth } from '../firebase/config';\nimport { signOut } from '@firebase/auth';\nimport { useRouter } from 'vue-router';\nimport { watchEffect } from 'vue';\nimport getUserAuth from '../composables/getUserAuth';\nimport getCollection from \"../composables/getCollection\";\nexport default {\n  setup: function setup() {\n    var _getUserAuth = getUserAuth(),\n        userAuth = _getUserAuth.userAuth;\n\n    var router = useRouter();\n\n    var _getCollection = getCollection(\"staff\", [\"uid\", \"==\", userUID]),\n        staff = _getCollection.documents;\n\n    var handleClick = function handleClick() {\n      signOut(auth);\n    };\n\n    watchEffect(function () {\n      if (!userAuth.value) {\n        router.push('/login');\n      }\n    });\n    return {\n      handleClick: handleClick,\n      userAuth: userAuth,\n      staff: staff\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\components\\Navbar.vue"],"names":[],"mappings":"AA8CA,IAAI,OAAM,GAAI,QAAQ,CAAC,GAAvB;AAEA,SAAS,IAAT,QAAqB,oBAArB;AACA,SAAS,OAAT,QAAwB,gBAAxB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,WAAT,QAA4B,KAA5B;AAEA,OAAO,WAAP,MAAwB,4BAAxB;AACA,OAAO,aAAP,MAA0B,8BAA1B;AAEA,eAAe;EACb,KADa,mBACL;IACN,mBAAqB,WAAW,EAAhC;IAAA,IAAQ,QAAR,gBAAQ,QAAR;;IACA,IAAM,MAAK,GAAI,SAAS,EAAxB;;IAEA,qBAA6B,aAAa,CAAC,OAAD,EAAU,CAClD,KADkD,EAElD,IAFkD,EAGlD,OAHkD,CAAV,CAA1C;IAAA,IAAmB,KAAnB,kBAAQ,SAAR;;IAMA,IAAM,WAAU,GAAI,SAAd,WAAc,GAAM;MACxB,OAAO,CAAC,IAAD,CAAP;IACF,CAFA;;IAIA,WAAW,CAAC,YAAM;MAChB,IAAG,CAAC,QAAQ,CAAC,KAAb,EAAoB;QAClB,MAAM,CAAC,IAAP,CAAY,QAAZ;MACF;IACD,CAJU,CAAX;IAMA,OAAO;MAAE,WAAW,EAAX,WAAF;MAAe,QAAQ,EAAR,QAAf;MAAyB,KAAI,EAAJ;IAAzB,CAAP;EACF;AAtBa,CAAf","sourcesContent":["<template>\n    <nav class=\"navbar bg-light sticky-top\">\n      <div class=\"container-fluid\">\n        \n        <a class=\"navbar-brand material-icons\" href=\"#\">vaccines</a>\n        <span v-if=\"userAuth\">{{ userAuth.email }}</span>\n\n        <ul class=\"nav\">\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link to=\"/\" class=\"nav-link active\" aria-current=\"page\"><span class=\"material-icons\">home</span></router-link>\n          </li>\n\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link :to=\"`/userProfile/${userAuth.email}`\" class=\"nav-link active\" aria-current=\"page\"><span class=\"material-icons\">account_circle</span></router-link>\n          </li>\n\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <router-link to=\"/staffRecord\" class=\"nav-link active\" aria-current=\"page\"><span class=\"material-icons\">group</span></router-link>\n          </li>\n\n          <li class=\"nav-item\" v-if=\"userAuth\">\n            <a class=\"nav-link btn btn-outline-light\" @click=\"handleClick\"><span class=\"material-icons\">logout</span></a>\n          </li>\n          \n          <li class=\"nav-item\" v-if=\"!userAuth\">\n            <router-link to=\"/login\" class=\"nav-link\">Login</router-link>\n          </li>\n        </ul>\n        test\n        <!-- <ul class=\"nav\">        \n          <div v-if=\"userAuth\">\n          <li class=\"nav-item\"><router-link to=\"/\" class=\"nav-link\">Home</router-link></li>\n          <li class=\"nav-item\"><a @click=\"handleClick\" class=\"nav-link\"><span class=\"material-icons\">logout</span></a></li>\n            \n          </div>\n          \n          <div v-if=\"!userAuth\">\n            <router-link to=\"/login\" class=\"nav-link\">Login</router-link>\n          </div>\n        </ul> -->\n      </div>\n    </nav>\n    \n</template>\n\n<script>\nvar userUID = userAuth.uid;\n\nimport { auth } from '../firebase/config'\nimport { signOut } from '@firebase/auth'\nimport { useRouter } from 'vue-router'\nimport { watchEffect } from 'vue'\n\nimport getUserAuth from '../composables/getUserAuth'\nimport getCollection from \"../composables/getCollection\"\n\nexport default {\n  setup() {\n    const { userAuth } = getUserAuth()\n    const router = useRouter()\n\n    const { documents: staff } = getCollection(\"staff\", [\n      \"uid\",\n      \"==\",\n      userUID,\n    ])\n\n    const handleClick = () => {\n      signOut(auth)\n    }\n\n    watchEffect(() => {\n      if(!userAuth.value) {\n        router.push('/login')\n      }\n    })\n\n    return { handleClick, userAuth, staff }\n  }\n\n}\n</script>\n\n<style>\n/* nav {\n  display: flex;\n  align-items: center;\n}\nnav h1 {\n  margin-right: auto;\n  margin-bottom: 0;\n}\nnav a {\n  margin-left: 16px;\n  color: #2c3e50;\n}\nnav button {\n  margin-left: 16px;\n}\nnav a.router-link-exact-active {\n  color: #0ec58e;\n}\nnav + p {\n  margin-top: 0;\n  margin-bottom: 30px;\n} */\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}