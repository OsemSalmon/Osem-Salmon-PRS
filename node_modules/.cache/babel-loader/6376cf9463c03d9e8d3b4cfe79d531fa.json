{"ast":null,"code":"import getCollection from \"../composables/getCollection\";\nimport getUserAuth from \"../composables/getUserAuth\";\nimport { db } from \"../firebase/config\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nexport default {\n  setup: function setup() {\n    var _getUserAuth = getUserAuth(),\n        userAuth = _getUserAuth.userAuth;\n\n    var _getCollection = getCollection(\"staff\"),\n        staff = _getCollection.documents;\n\n    var handleUpdate = function handleUpdate(staff) {\n      var docRef = doc(db, \"staff\", staff.id);\n      updateDoc(docRef, {\n        isApproved: !staff.isApproved\n      });\n    }; //return\n\n\n    return {\n      staff: staff,\n      userAuth: userAuth,\n      handleUpdate: handleUpdate\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\staffRecord.vue"],"names":[],"mappings":"AAiCA,OAAO,aAAP,MAA0B,8BAA1B;AACA,OAAO,WAAP,MAAwB,4BAAxB;AAEA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,oBAA/B;AAEA,eAAe;EACX,KADW,mBACH;IACJ,mBAAqB,WAAW,EAAhC;IAAA,IAAQ,QAAR,gBAAQ,QAAR;;IAEA,qBAA6B,aAAa,CAAC,OAAD,CAA1C;IAAA,IAAmB,KAAnB,kBAAQ,SAAR;;IAEA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,KAAD,EAAW;MAC5B,IAAM,MAAK,GAAI,GAAG,CAAC,EAAD,EAAK,OAAL,EAAc,KAAK,CAAC,EAApB,CAAlB;MAEA,SAAS,CAAC,MAAD,EAAS;QACd,UAAU,EAAE,CAAC,KAAK,CAAC;MADL,CAAT,CAAT;IAGJ,CANA,CALI,CAaJ;;;IACA,OAAO;MAAE,KAAK,EAAL,KAAF;MAAS,QAAQ,EAAR,QAAT;MAAmB,YAAW,EAAX;IAAnB,CAAP;EACJ;AAhBW,CAAf","sourcesContent":["<template>\r\n<div class=\"container-fluid\">\r\n<table class=\"table table-striped table-hover table-bordered\">\r\n    <thead>\r\n        <tr>\r\n            <th scope=\"col\">Name</th>\r\n            <th scope=\"col\">Email</th>\r\n            <th scope=\"col\">User ID</th>\r\n            <th scope=\"col\">Contact</th>\r\n            <th scope=\"col\">Address</th>\r\n            <th scope=\"col\">Approved</th>\r\n        </tr>\r\n    </thead>\r\n\r\n    <tbody class=\"table-group-divider\">\r\n        <tr v-for=\"staff in staff\" :key=\"staff.uid\">\r\n            <td>{{ staff.fullname }}</td>\r\n            <td>{{ staff.email }}</td>\r\n            <td>{{ staff.uid }}</td>\r\n            <td>{{ staff.pNumber }}</td>\r\n            <td>{{ staff.address }}</td>\r\n            <td>\r\n                <button class=\"btn btn-outline-white\" :class=\"{ i:true, fav: staff.isApproved }\" @click=\"handleUpdate(staff)\">\r\n                    <i class=\"bi bi-check-square\"></i>\r\n                </button>        \r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport getCollection from \"../composables/getCollection\"\r\nimport getUserAuth from \"../composables/getUserAuth\"\r\n\r\nimport { db } from \"../firebase/config\"\r\nimport { doc, updateDoc } from \"firebase/firestore\"\r\n\r\nexport default {\r\n    setup() {\r\n        const { userAuth } = getUserAuth()\r\n\r\n        const { documents: staff } = getCollection(\"staff\")\r\n\r\n        const handleUpdate = (staff) => {\r\n            const docRef = doc(db, \"staff\", staff.id)\r\n\r\n            updateDoc(docRef, {\r\n                isApproved: !staff.isApproved\r\n            })\r\n        }\r\n\r\n        //return\r\n        return { staff, userAuth, handleUpdate }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.i {\r\n    color: red;\r\n    cursor: pointer;\r\n}\r\n.i.fav {\r\n    color: #198754;\r\n}\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}