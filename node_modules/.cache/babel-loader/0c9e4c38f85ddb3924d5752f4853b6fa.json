{"ast":null,"code":"import _asyncToGenerator from \"D:/Laragon/www/Osem-Salmon-PRS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { ref } from \"vue\";\nimport { db } from \"../firebase/config\";\nimport { addDoc, collection } from \"firebase/firestore\";\nexport default {\n  setup: function setup() {\n    //patient info const\n    var fullname = ref(\"\");\n    var email = ref(\"\");\n    var dob = ref(\"\");\n    var nric = ref(\"\");\n    var note = ref(\"\"); //image const\n\n    var file = ref(null);\n    var fileError = ref(null);\n\n    var handleChange = function handleChange(e) {\n      var selected = e.target.files[0];\n      console.log(selected);\n\n      if (selected && types.includes(selected.type)) {\n        file.value = selected;\n        fileError.value = null;\n      } else {\n        file.value = null;\n        fileError.value = \"Please select a valid image file (png, jpeg, jpg)\";\n      }\n    };\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var colRef;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                colRef = collection(db, \"user\");\n                _context.next = 3;\n                return addDoc(colRef, {\n                  fullname: fullname.value,\n                  email: email.value,\n                  dob: dob.value,\n                  nric: nric.value,\n                  note: note.value\n                });\n\n              case 3:\n                fullname.value = \"\";\n                email.value = \"\";\n                dob.value = \"\";\n                nric.value = \"\";\n                note.value = \"\";\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      handleSubmit: handleSubmit,\n      fullname: fullname,\n      email: email,\n      dob: dob,\n      nric: nric,\n      note: note,\n      handleChange: handleChange,\n      fileError: fileError\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\components\\CreateUserForm.vue"],"names":[],"mappings":";;;;AA6CA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,MAAT,EAAiB,UAAjB,QAAmC,oBAAnC;AAGA,eAAe;EACb,KADa,mBACL;IACN;IACA,IAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;IACA,IAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;IACA,IAAM,GAAE,GAAI,GAAG,CAAC,EAAD,CAAf;IACA,IAAM,IAAG,GAAI,GAAG,CAAC,EAAD,CAAhB;IACA,IAAM,IAAG,GAAI,GAAG,CAAC,EAAD,CAAhB,CANM,CAQN;;IACA,IAAM,IAAG,GAAI,GAAG,CAAC,IAAD,CAAhB;IACA,IAAM,SAAQ,GAAI,GAAG,CAAC,IAAD,CAArB;;IAEA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,CAAD,EAAO;MAC1B,IAAM,QAAO,GAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,CAAf,CAAjB;MACA,OAAO,CAAC,GAAR,CAAY,QAAZ;;MAEA,IAAG,QAAO,IAAM,KAAK,CAAC,QAAN,CAAe,QAAQ,CAAC,IAAxB,CAAhB,EAA+C;QAC7C,IAAI,CAAC,KAAL,GAAa,QAAb;QACA,SAAS,CAAC,KAAV,GAAkB,IAAlB;MACF,CAHA,MAKK;QACH,IAAI,CAAC,KAAL,GAAa,IAAb;QACA,SAAS,CAAC,KAAV,GAAkB,mDAAlB;MACF;IACF,CAbA;;IAeA,IAAM,YAAW;MAAA,mEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBACb,MADa,GACJ,UAAU,CAAC,EAAD,EAAK,MAAL,CADN;gBAAA;gBAAA,OAGb,MAAM,CAAC,MAAD,EAAS;kBACnB,QAAQ,EAAE,QAAQ,CAAC,KADA;kBAEnB,KAAK,EAAE,KAAK,CAAC,KAFM;kBAGnB,GAAG,EAAE,GAAG,CAAC,KAHU;kBAInB,IAAI,EAAE,IAAI,CAAC,KAJQ;kBAKnB,IAAI,EAAE,IAAI,CAAC;gBALQ,CAAT,CAHO;;cAAA;gBAWnB,QAAQ,CAAC,KAAT,GAAiB,EAAjB;gBACA,KAAK,CAAC,KAAN,GAAc,EAAd;gBACA,GAAG,CAAC,KAAJ,GAAY,EAAZ;gBACA,IAAI,CAAC,KAAL,GAAa,EAAb;gBACA,IAAI,CAAC,KAAL,GAAa,EAAb;;cAfmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAX,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAkBA,OAAO;MACL,YAAY,EAAZ,YADK;MAEL,QAAQ,EAAR,QAFK;MAGL,KAAK,EAAL,KAHK;MAIL,GAAG,EAAH,GAJK;MAKL,IAAI,EAAJ,IALK;MAML,IAAI,EAAJ,IANK;MAOL,YAAY,EAAZ,YAPK;MAQL,SAAQ,EAAR;IARK,CAAP;EAUF;AAxDa,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <form @submit.prevent=\"handleSubmit\">\n\n          <input type=\"file\" @change=\"handleChange\">\n          <div class=\"error\">{{ fileError }}</div>\n          <div class=\"form-floating mb-3\">\n            <input class=\"form-control\" type=\"text\" name=\"fullname\" v-model=\"fullname\" placeholder=\"fullname\" required />\n            <label for=\"title\" class=\"form-label\">Full Name</label>\n          </div>\n\n          <div class=\"form-floating mb-3\">\n            <input class=\"form-control\" type=\"text\" name=\"email\" v-model=\"email\" placeholder=\"email\" required />\n            <label for=\"email\" class=\"form-label\">Email</label>\n          </div>\n\n          <div class=\"form-floating mb-3\">\n            <input class=\"form-control\" type=\"date\" name=\"dob\" v-model=\"dob\" placeholder=\"Date of Birth\" required />\n            <label for=\"dob\" class=\"form-label\">Date of Birth</label>\n          </div>\n\n          <div class=\"form-floating mb-3\">\n            <input class=\"form-control\" type=\"text\" name=\"nric\" v-model=\"nric\" placeholder=\"NRIC\" required />\n            <label for=\"nric\" class=\"form-label\">NRIC</label>\n          </div>\n\n          <div class=\"form-floating mb-3\">\n            <textarea class=\"form-control\" name=\"note\" v-model=\"note\" placeholder=\"Note\" required></textarea>\n            <label for=\"note\" class=\"form-label\">Note</label>\n          </div>\n\n          <br>\n          <button class=\"btn btn-outline-success float-end\">Add Patient</button>\n          <!-- <div v-if=\"error\">\n      {{ error }}\n    </div> -->\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\"\nimport { db } from \"../firebase/config\"\nimport { addDoc, collection } from \"firebase/firestore\"\n\n\nexport default {\n  setup() {\n    //patient info const\n    const fullname = ref(\"\")\n    const email = ref(\"\")\n    const dob = ref(\"\")\n    const nric = ref(\"\")\n    const note = ref(\"\")\n\n    //image const\n    const file = ref(null)\n    const fileError = ref(null)\n\n    const handleChange = (e) => {\n      const selected = e.target.files[0]\n      console.log(selected)\n\n      if(selected  && types.includes(selected.type)) {\n        file.value = selected\n        fileError.value = null\n      }\n\n      else {\n        file.value = null\n        fileError.value = \"Please select a valid image file (png, jpeg, jpg)\"\n      }\n    }\n\n    const handleSubmit = async () => {\n      const colRef = collection(db, \"user\")\n\n      await addDoc(colRef, {\n        fullname: fullname.value,\n        email: email.value,\n        dob: dob.value,\n        nric: nric.value,\n        note: note.value,\n      })\n\n      fullname.value = \"\"\n      email.value = \"\"\n      dob.value = \"\"\n      nric.value = \"\"\n      note.value = \"\"\n    }\n\n    return {\n      handleSubmit,\n      fullname,\n      email,\n      dob,\n      nric,\n      note,\n      handleChange,\n      fileError\n    }\n  }\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}