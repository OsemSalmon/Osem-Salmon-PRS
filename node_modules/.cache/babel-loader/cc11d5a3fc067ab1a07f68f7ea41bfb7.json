{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nvar patientNRIC = window.location.pathname.split(\"/\").pop();\nimport { db } from \"../firebase/config\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport getCollection from \"../composables/getCollection\";\nexport default {\n  setup: function setup() {\n    var _getCollection = getCollection(\"user\", [\"nric\", \"==\", patientNRIC]),\n        user = _getCollection.documents;\n\n    var handleUpdate = function handleUpdate(user) {\n      var docRef = doc(db, 'user', user.id);\n      updateDoc(docRef, {\n        fullname: user.fullname,\n        dob: user.dob,\n        email: user.email\n      });\n    };\n\n    return {\n      user: user,\n      handleUpdate: handleUpdate\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\components\\editPatientDetails.vue"],"names":[],"mappings":";;AA0CA,IAAI,WAAU,GAAI,MAAM,CAAC,QAAP,CAAgB,QAAhB,CAAyB,KAAzB,CAA+B,GAA/B,EAAoC,GAApC,EAAlB;AAEA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,oBAA/B;AACA,OAAO,aAAP,MAA0B,8BAA1B;AAEA,eAAe;EACb,KADa,mBACL;IACN,qBAA4B,aAAa,CAAC,MAAD,EAAS,CAChD,MADgD,EAEhD,IAFgD,EAGhD,WAHgD,CAAT,CAAzC;IAAA,IAAmB,IAAnB,kBAAQ,SAAR;;IAMA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,IAAD,EAAU;MAC7B,IAAM,MAAK,GAAI,GAAG,CAAC,EAAD,EAAK,MAAL,EAAa,IAAI,CAAC,EAAlB,CAAlB;MAEA,SAAS,CAAC,MAAD,EAAS;QAChB,QAAQ,EAAE,IAAI,CAAC,QADC;QAEhB,GAAG,EAAE,IAAI,CAAC,GAFM;QAGhB,KAAK,EAAE,IAAI,CAAC;MAHI,CAAT,CAAT;IAKF,CARA;;IAUA,OAAO;MACL,IAAI,EAAJ,IADK;MACC,YAAW,EAAX;IADD,CAAP;EAGF;AArBa,CAAf","sourcesContent":["<template>\r\n  <form @submit.prevent=\"handleUpdate(user)\" class=\"mt-3\" v-for=\"user in user\" :key=\"user.id\">\r\n    <div class=\"form-floating mb-3\">\r\n      <input type=\"text\" class=\"form-control\" id=\"placeholder\" placeholder=\"placeholder\" v-model=\"user.fullname\">\r\n      <label for=\"floatingInput\">Full Name</label>\r\n    </div>\r\n    <div class=\"form-floating mb-3\">\r\n      <input type=\"text\" class=\"form-control\" id=\"placeholder\" placeholder=\"placeholder\" v-model=\"user.nric\" disabled>\r\n      <label for=\"floatingPassword\">NRIC</label>\r\n    </div>\r\n    <div class=\"form-floating mb-3\">\r\n      <input type=\"date\" class=\"form-control\" id=\"placeholder\" placeholder=\"placeholder\" v-model=\"user.dob\">\r\n      <label for=\"floatingPassword\">Date of Birth</label>\r\n    </div>\r\n    <div class=\"form-floating mb-3\">\r\n      <input type=\"text\" class=\"form-control\" id=\"placeholder\" placeholder=\"placeholder\" v-model=\"user.email\">\r\n      <label for=\"floatingPassword\">Email</label>\r\n    </div>\r\n\r\n    <div class=\"form-floating mb-3\">\r\n      <input class=\"form-control\" type=\"text\" name=\"contact\" v-model=\"user.contact\" placeholder=\"contact\" required />\r\n      <label for=\"nric\" class=\"form-label\">Contact</label>\r\n    </div>\r\n\r\n    <div class=\"form-floating mb-3\">\r\n      <textarea class=\"form-control\" name=\"address\" v-model=\"user.address\" placeholder=\"address\" required></textarea>\r\n      <label for=\"note\" class=\"form-label\">Address</label>\r\n    </div>\r\n\r\n    <div class=\"form-floating mb-3\">\r\n      <textarea class=\"form-control\" name=\"note\" v-model=\"user.note\" placeholder=\"Note\" required></textarea>\r\n      <label for=\"note\" class=\"form-label\">Note</label>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n      <button class=\"btn btn-primary\">Done</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nvar patientNRIC = window.location.pathname.split(\"/\").pop()\r\n\r\nimport { db } from \"../firebase/config\"\r\nimport { doc, updateDoc } from \"firebase/firestore\"\r\nimport getCollection from \"../composables/getCollection\"\r\n\r\nexport default {\r\n  setup() {\r\n    const { documents: user } = getCollection(\"user\", [\r\n      \"nric\",\r\n      \"==\",\r\n      patientNRIC,\r\n    ])\r\n\r\n    const handleUpdate = (user) => {\r\n      const docRef = doc(db, 'user', user.id)\r\n\r\n      updateDoc(docRef, {\r\n        fullname: user.fullname,\r\n        dob: user.dob,\r\n        email: user.email,\r\n      })\r\n    }\r\n\r\n    return {\r\n      user, handleUpdate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}