{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  class: \"container\"\n};\nvar _hoisted_2 = {\n  class: \"row\"\n};\nvar _hoisted_3 = {\n  class: \"col\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"button\", null, \"submit\", -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, \"col 2\", -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, \"col 3\", -1\n/* HOISTED */\n);\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, \"col 1\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, \"col 2\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, \"col 3\")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers(function () {\n      return _ctx.handleSubmit && _ctx.handleSubmit.apply(_ctx, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = function () {\n      return _ctx.handleChange && _ctx.handleChange.apply(_ctx, arguments);\n    })\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  ), _createTextVNode(\" \" + _toDisplayString(_ctx.fileError) + \" \", 1\n  /* TEXT */\n  ), _hoisted_4], 32\n  /* HYDRATE_EVENTS */\n  )]), _hoisted_5, _hoisted_6]), _hoisted_7]);\n}","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\userProfile.vue"],"names":[],"mappings":";;EACO,KAAK,EAAC;;;EACJ,KAAK,EAAC;;;EACJ,KAAK,EAAC;;;8BAIP,mBAAA,CAAuB,QAAvB,EAAuB,IAAvB,EAAQ,QAAR,EAAc,CAAA;AAAA;AAAd,C;;8BAGJ,mBAAA,CAA4B,KAA5B,EAA4B;EAAvB,KAAK,EAAC;AAAiB,CAA5B,EAAiB,OAAjB,EAAsB,CAAA;AAAA;AAAtB,C;;8BACA,mBAAA,CAA4B,KAA5B,EAA4B;EAAvB,KAAK,EAAC;AAAiB,CAA5B,EAAiB,OAAjB,EAAsB,CAAA;AAAA;AAAtB,C;;8BAEF,mBAAA,CAIM,KAJN,EAIM;EAJD,KAAK,EAAC;AAIL,CAJN,EAAgB,C,aACd,mBAAA,CAA4B,KAA5B,EAA4B;EAAvB,KAAK,EAAC;AAAiB,CAA5B,EAAiB,OAAjB,CADc,E,aAEd,mBAAA,CAA4B,KAA5B,EAA4B;EAAvB,KAAK,EAAC;AAAiB,CAA5B,EAAiB,OAAjB,CAFc,E,aAGd,mBAAA,CAA4B,KAA5B,EAA4B;EAAvB,KAAK,EAAC;AAAiB,CAA5B,EAAiB,OAAjB,CAHc,CAAhB,E;;AAAA,C;;;uBAZF,mBAAA,CAiBM,KAjBN,EAAA,UAAA,EAiBM,CAhBJ,mBAAA,CAUM,KAVN,EAAA,UAAA,EAUM,CATJ,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,mBAAA,CAIO,MAJP,EAIO;IAJA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;MAAA,OAAU,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,YAAA,OAAA,IAAA,YAAV;IAAA,CAAA,EAAsB,CAAA,SAAA,CAAtB,CAAA;EAIN,CAJP,E,CACE,mBAAA,CAA4C,OAA5C,EAA4C;IAArC,IAAI,EAAC,MAAgC;IAAxB,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;MAAA,OAAE,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,YAAA,OAAA,IAAA,YAAF;IAAA,CAAA;EAAkB,CAA5C,E,IAAA,E;;EAAA,C,mBAA4C,MAC5C,gBAAA,CAAG,IAAA,CAAA,SAAH,CAD4C,GAC7B,G,EACf;EAAA;KAAA,U,CAHF,E;;EAAA,CAKI,CANN,CASI,EAFJ,UAEI,EADJ,UACI,CAVN,CAgBI,EALJ,UAKI,CAjBN,C","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <form @submit.prevent=\"handleSubmit\">\r\n          <input type=\"file\" @change=\"handleChange\" />\r\n          {{ fileError }}\r\n          <button>submit</button>\r\n        </form>\r\n      </div>\r\n      <div class=\"col\">col 2</div>\r\n      <div class=\"col\">col 3</div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">col 1</div>\r\n      <div class=\"col\">col 2</div>\r\n      <div class=\"col\">col 3</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport useStorage from \"@/composables/useStorage\";\r\nimport { uploadBytesResumable } from \"@firebase/storage\";\r\n\r\nexport default {\r\n  setup() {\r\n    const { filePath, url, uploadImage } = useStorage();\r\n\r\n    const file = ref(null);\r\n    const fileError = ref(null);\r\n    const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n\r\n    //submit image\r\n    const handleSubmit = () => {\r\n      if (file.value) {\r\n        //console.log(\"submitted \" + file.value)\r\n        //uploadImage(file.value)\r\n        //console.log('image uploaded url:' + url.value)\r\n        const metadata = {\r\n            contentType: 'image/jpeg'\r\n        };\r\n\r\n        const storageRef = ref(useStorage, \"images\");\r\n        const uploadTask = uploadBytesResumable(storageRef, file, metadata);\r\n        uploadBytes(storageRef, file).then((snapshot) => {\r\n            console.log('Uploaded a blob or file!');\r\n        });\r\n      }\r\n\r\n    //handle image name\r\n    const handleChange = (e) => {\r\n      let selected = e.target.files[0];\r\n      console.log(selected);\r\n\r\n      if (selected && types.includes(selected.type)) {\r\n        file.value = selected;\r\n        fileError.value = null;\r\n      } else {\r\n        file.value = null;\r\n        fileError.value = \"Please select an image file (png or jpg)\";\r\n      }\r\n    };\r\n\r\n    return { handleChange, handleSubmit, fileError };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}