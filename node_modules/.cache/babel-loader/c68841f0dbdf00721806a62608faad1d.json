{"ast":null,"code":"import CreateUserForm from '@/components/CreateUserForm';\nimport getCollection from '../composables/getCollection';\nimport { db } from '../firebase/config';\nimport { doc, deleteDoc, updateDoc } from 'firebase/firestore';\nexport default {\n  name: 'Home',\n  components: {\n    CreateUserForm: CreateUserForm\n  },\n  setup: function setup() {\n    //get user info from collection\n    var _getCollection = getCollection('user'),\n        user = _getCollection.documents; //delete user from collection\n\n\n    var handleDelete = function handleDelete(user) {\n      var docRef = doc(db, 'user', user.id);\n      deleteDoc(docRef);\n    }; //update user info\n\n\n    var handleUpdate = function handleUpdate(user) {\n      var docRef = doc(db, 'user', user.id);\n      updateDoc(docRef, {\n        isadmin: !user.isadmin\n      });\n    };\n\n    return {\n      user: user,\n      handleDelete: handleDelete,\n      handleUpdate: handleUpdate\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\osemsalmonv3\\src\\views\\Home.vue"],"names":[],"mappings":"AAmBA,OAAO,cAAP,MAA2B,6BAA3B;AACA,OAAO,aAAP,MAA0B,8BAA1B;AAEA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,GAAT,EAAc,SAAd,EAAyB,SAAzB,QAA0C,oBAA1C;AAEA,eAAe;EACb,IAAI,EAAE,MADO;EAEb,UAAU,EAAE;IAAE,cAAa,EAAb;EAAF,CAFC;EAGb,KAHa,mBAGL;IACN;IACA,qBAA4B,aAAa,CAAC,MAAD,CAAzC;IAAA,IAAmB,IAAnB,kBAAQ,SAAR,CAFM,CAIN;;;IACA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,IAAD,EAAU;MAC7B,IAAM,MAAK,GAAI,GAAG,CAAC,EAAD,EAAK,MAAL,EAAa,IAAI,CAAC,EAAlB,CAAlB;MAEA,SAAS,CAAC,MAAD,CAAT;IACF,CAJA,CALM,CAWN;;;IACA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,IAAD,EAAU;MAC7B,IAAM,MAAK,GAAI,GAAG,CAAC,EAAD,EAAK,MAAL,EAAa,IAAI,CAAC,EAAlB,CAAlB;MAEA,SAAS,CAAC,MAAD,EAAS;QAAE,OAAO,EAAE,CAAC,IAAI,CAAC;MAAjB,CAAT,CAAT;IACF,CAJA;;IAMA,OAAO;MAAE,IAAI,EAAJ,IAAF;MAAQ,YAAY,EAAZ,YAAR;MAAsB,YAAW,EAAX;IAAtB,CAAP;EACF;AAtBa,CAAf","sourcesContent":["<template>\n  <div class=\"home\">\n    <CreateUserForm />\n    <ul>\n      <li v-for=\"user in user\" :key=\"user.id\">\n        <div class=\"details\">\n          <h3  @click=\"handleDelete(user)\"> {{ user.fullname }}</h3>\n          <p>{{ user.email }}</p>\n          <p>{{ toDate(user.dob) }}</p>\n        </div>\n        <div :class=\"{ icon: true, admin: user.isadmin }\" @click=\"handleUpdate(user)\">\n          <span class=\"material-icons\">verified_user</span>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport CreateUserForm from '@/components/CreateUserForm'\nimport getCollection from '../composables/getCollection'\n\nimport { db } from '../firebase/config'\nimport { doc, deleteDoc, updateDoc } from 'firebase/firestore'\n\nexport default {\n  name: 'Home',\n  components: { CreateUserForm },\n  setup() {\n    //get user info from collection\n    const { documents: user } = getCollection('user')\n    \n    //delete user from collection\n    const handleDelete = (user) => {\n      const docRef = doc(db, 'user', user.id)\n\n      deleteDoc(docRef)\n    }\n\n    //update user info\n    const handleUpdate = (user) => {\n      const docRef = doc(db, 'user', user.id)\n\n      updateDoc(docRef, { isadmin: !user.isadmin })\n    }\n\n    return { user, handleDelete, handleUpdate }\n  }\n}\n</script>\n\n<style>\n.home ul {\n  padding: 0;\n}\n.home li {\n  list-style-type: none;\n  background: #fff;\n  padding: 10px;\n  border-radius: 6px;\n  margin-bottom: 12px;\n  display: flex;\n}\n.home li .details {\n  margin-right: auto;\n}\n.home li h3 {\n  margin: 0;\n  margin-bottom: 4px;\n}\n.home li h3:hover {\n  cursor: pointer;\n  text-decoration: line-through;\n}\n.home li p {\n  margin: 0;\n}\n.icon {\n  color: #bbbbbb;\n  cursor: pointer;\n}\n\n.icon.admin {\n  color: greenyellow;\n}\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}