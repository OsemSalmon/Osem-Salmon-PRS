{"ast":null,"code":"import { getAuth, updatePassword } from '@firebase/auth';\nimport { ref } from 'vue';\nexport default {\n  setup() {\n    const auth = getAuth();\n    const user = auth.currentUser;\n    const error = ref(null);\n    const password = ref(\"\");\n    const passwordRepeat = ref(\"\");\n\n    const handleSubmit = async () => {\n      try {\n        if (password.value == passwordRepeat.value) {\n          await updatePassword(user, password.value);\n          password.value = \"\";\n          passwordRepeat.value = \"\";\n          alert(\"Passwords updated\");\n        } else if (password.value != passwordRepeat.value) {\n          alert(\"Passwords no match\");\n        }\n      } catch (err) {\n        error.value = err.message;\n      }\n    };\n\n    return {\n      handleSubmit,\n      password,\n      passwordRepeat,\n      error\n    };\n  }\n\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\components\\editUserPassword.vue"],"names":[],"mappings":"AAyBA,SAAS,OAAT,EAAkB,cAAlB,QAAwC,gBAAxC;AACA,SAAS,GAAT,QAAoB,KAApB;AAEA,eAAe;EACX,KAAK,GAAG;IAEJ,MAAM,IAAG,GAAI,OAAO,EAApB;IAEA,MAAM,IAAG,GAAI,IAAI,CAAC,WAAlB;IACA,MAAM,KAAI,GAAI,GAAG,CAAC,IAAD,CAAjB;IAEA,MAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;IACA,MAAM,cAAa,GAAI,GAAG,CAAC,EAAD,CAA1B;;IAEA,MAAM,YAAW,GAAI,YAAY;MAC7B,IAAI;QACA,IAAI,QAAQ,CAAC,KAAT,IAAkB,cAAc,CAAC,KAArC,EACA;UACI,MAAM,cAAc,CAAC,IAAD,EAAO,QAAQ,CAAC,KAAhB,CAApB;UACA,QAAQ,CAAC,KAAT,GAAiB,EAAjB;UACA,cAAc,CAAC,KAAf,GAAuB,EAAvB;UACA,KAAK,CAAC,mBAAD,CAAL;QACJ,CANA,MAQK,IAAI,QAAQ,CAAC,KAAT,IAAkB,cAAc,CAAC,KAArC,EACL;UACI,KAAK,CAAC,oBAAD,CAAL;QACJ;MACJ,CAbA,CAeA,OAAO,GAAP,EACA;QACI,KAAK,CAAC,KAAN,GAAc,GAAG,CAAC,OAAlB;MACJ;IAEJ,CArBA;;IAyBA,OAAO;MACH,YADG;MAEH,QAFG;MAGH,cAHG;MAIH;IAJG,CAAP;EAMJ;;AA1CW,CAAf","sourcesContent":["<template>\r\n<form @submit.prevent=\"handleSubmit\">\r\n    <div class=\"form-floating mb-3\">\r\n        <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" v-model=\"password\">\r\n        <label for=\"floatingPassword\">Password</label>\r\n    </div>\r\n\r\n    <div class=\"form-floating mb-3\">\r\n        <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" v-model=\"passwordRepeat\">\r\n        <label for=\"floatingPassword\">Repeat Password</label>\r\n        <div class=\"form-text\">Security-sensitive actions may require user to re-login before updating.</div>\r\n    </div>\r\n    <div v-if=\"error\">\r\n            <h6><small class=\"text-muted\">{{ error }}</small></h6>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n        <button class=\"btn btn-primary\">Update</button>\r\n    </div>    \r\n</form>\r\n  \r\n\r\n</template>\r\n\r\n<script>\r\nimport { getAuth, updatePassword } from '@firebase/auth'\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n    setup() {\r\n\r\n        const auth = getAuth()\r\n\r\n        const user = auth.currentUser\r\n        const error = ref(null)\r\n\r\n        const password = ref(\"\")\r\n        const passwordRepeat = ref(\"\")\r\n\r\n        const handleSubmit = async () => {\r\n            try {\r\n                if (password.value == passwordRepeat.value) \r\n                {\r\n                    await updatePassword(user, password.value)\r\n                    password.value = \"\"\r\n                    passwordRepeat.value = \"\"\r\n                    alert(\"Passwords updated\")\r\n                } \r\n            \r\n                else if (password.value != passwordRepeat.value) \r\n                {\r\n                    alert(\"Passwords no match\")\r\n                }\r\n            } \r\n            \r\n            catch (err) \r\n            {\r\n                error.value = err.message\r\n            }\r\n            \r\n        }\r\n\r\n        \r\n\r\n        return {\r\n            handleSubmit,\r\n            password,\r\n            passwordRepeat,\r\n            error\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}