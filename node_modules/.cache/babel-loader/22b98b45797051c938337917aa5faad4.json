{"ast":null,"code":"import { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { db } from '../firebase/config';\nimport { addDoc, collection } from 'firebase/firestore';\nimport useSignup from '../composables/useSignup';\nexport default {\n  setup() {\n    const email = ref('');\n    const password = ref('');\n    const fullname = ref('');\n    const isAdmin = ref(false);\n    const isApproved = ref(false);\n    const pNumber = ref('');\n    const address = ref('');\n    const uid = ref('');\n    const router = useRouter();\n    const {\n      signup,\n      error\n    } = useSignup();\n\n    const handleSubmit = async () => {\n      await signup(email.value, password.value);\n\n      if (!error.value) {\n        const colRef = collection(db, 'staff');\n        await addDoc(colRef, {\n          email: email.value,\n          fullname: fullname.value,\n          isAdmin: isAdmin.value,\n          isApproved: isApproved.value,\n          pNumber: pNumber.value,\n          address: address.value,\n          uid: uid.value\n        });\n        router.push('/');\n      }\n    };\n\n    return {\n      email,\n      password,\n      handleSubmit,\n      error,\n      fullname,\n      isAdmin,\n      isApproved,\n      pNumber,\n      address\n    };\n  }\n\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\Signup.vue"],"names":[],"mappings":"AAiDA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,EAAT,QAAmB,oBAAnB;AACA,SAAS,MAAT,EAAiB,UAAjB,QAAmC,oBAAnC;AAEA,OAAO,SAAP,MAAsB,0BAAtB;AAEA,eAAe;EACb,KAAK,GAAG;IACN,MAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;IACA,MAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;IACA,MAAM,QAAO,GAAI,GAAG,CAAC,EAAD,CAApB;IACA,MAAM,OAAM,GAAI,GAAG,CAAC,KAAD,CAAnB;IACA,MAAM,UAAS,GAAI,GAAG,CAAC,KAAD,CAAtB;IACA,MAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;IACA,MAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;IACA,MAAM,GAAE,GAAI,GAAG,CAAC,EAAD,CAAf;IAEA,MAAM,MAAK,GAAI,SAAS,EAAxB;IAEA,MAAM;MAAE,MAAF;MAAU;IAAV,IAAoB,SAAS,EAAnC;;IAEA,MAAM,YAAW,GAAI,YAAY;MAC/B,MAAM,MAAM,CAAC,KAAK,CAAC,KAAP,EAAc,QAAQ,CAAC,KAAvB,CAAZ;;MAEA,IAAG,CAAC,KAAK,CAAC,KAAV,EAAiB;QACf,MAAM,MAAK,GAAI,UAAU,CAAC,EAAD,EAAK,OAAL,CAAzB;QACA,MAAM,MAAM,CAAC,MAAD,EAAS;UACnB,KAAK,EAAE,KAAK,CAAC,KADM;UAEnB,QAAQ,EAAE,QAAQ,CAAC,KAFA;UAGnB,OAAO,EAAE,OAAO,CAAC,KAHE;UAInB,UAAU,EAAE,UAAU,CAAC,KAJJ;UAKnB,OAAO,EAAE,OAAO,CAAC,KALE;UAMnB,OAAO,EAAE,OAAO,CAAC,KANE;UAOnB,GAAG,EAAE,GAAG,CAAC;QAPU,CAAT,CAAZ;QAUA,MAAM,CAAC,IAAP,CAAY,GAAZ;MACF;IACF,CAjBA;;IAmBA,OAAO;MACP,KADO;MAEP,QAFO;MAGP,YAHO;MAIP,KAJO;MAKP,QALO;MAMP,OANO;MAOP,UAPO;MAQP,OARO;MASP;IATO,CAAP;EAWF;;AA7Ca,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row border rounded-3 mt-3\">\n      <div class=\"col-3\"></div>\n      <div class=\"col m-3\">\n        <h1 class=\"display-6 mb-3\">Sign Up</h1>\n        <form @submit.prevent=\"handleSubmit\">\n        <div class=\"form-floating mb-3\">\n          <input type=\"email\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"email\">\n          <label for=\"floatingInput\">Email Address</label>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <input type=\"password\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"password\">\n          <label for=\"floatingInput\">Password</label>\n        </div>\n        \n        <div class=\"form-floating mb-3\">\n          <input type=\"password\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"passwordRepeat\">\n          <label for=\"floatingInput\">Repeat Password</label>\n        </div>\n        \n        <div class=\"form-floating mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"fullname\">\n          <label for=\"floatingInput\">Full Name</label>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"pNumber\">\n          <label for=\"floatingInput\">Phone Number</label>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" v-model=\"address\">\n          <label for=\"floatingInput\">Address</label>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <button class=\"btn btn-primary float-end\">Sign Up</button>\n        </div>\n\n        </form>\n      </div>\n      <div class=\"col-3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { db } from '../firebase/config'\nimport { addDoc, collection } from 'firebase/firestore'\n\nimport useSignup from '../composables/useSignup'\n\nexport default {\n  setup() {\n    const email = ref('')\n    const password = ref('')\n    const fullname = ref('')\n    const isAdmin = ref(false)\n    const isApproved = ref(false)\n    const pNumber = ref('')\n    const address = ref('')\n    const uid = ref('')\n\n    const router = useRouter()\n\n    const { signup, error } = useSignup()\n\n    const handleSubmit = async () => {\n      await signup(email.value, password.value)\n      \n      if(!error.value) {\n        const colRef = collection(db, 'staff')\n        await addDoc(colRef, {\n          email: email.value,\n          fullname: fullname.value,\n          isAdmin: isAdmin.value,\n          isApproved: isApproved.value,\n          pNumber: pNumber.value,\n          address: address.value,\n          uid: uid.value\n\n        })\n        router.push('/')\n      }\n    }\n\n    return { \n    email,\n    password, \n    handleSubmit, \n    error,\n    fullname,\n    isAdmin,\n    isApproved,\n    pNumber,\n    address\n    }\n  }\n}\n</script>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}