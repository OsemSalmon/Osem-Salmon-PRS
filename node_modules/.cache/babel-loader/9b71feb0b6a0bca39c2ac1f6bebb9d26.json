{"ast":null,"code":"import _asyncToGenerator from \"D:/Laragon/www/Osem-Salmon-PRS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { ref } from 'vue';\nimport useStorage from '@/composables/useStorage';\nexport default {\n  setup: function setup() {\n    var _useStorage = useStorage(),\n        filePath = _useStorage.filePath,\n        url = _useStorage.url,\n        uploadImage = _useStorage.uploadImage;\n\n    var file = ref(null);\n    var fileError = ref(null);\n    var types = ['image/png', 'image/jpeg', 'image/jpg']; //submit image\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!file.value) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 3;\n                return uploadImage(file.value);\n\n              case 3:\n                console.log('image uploaded url:' + url.value);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }(); //handle image name\n\n\n    var handleChange = function handleChange(e) {\n      var selected = e.target.files[0];\n      console.log(selected);\n\n      if (selected && types.includes(selected.type)) {\n        file.value = selected;\n        fileError.value = null;\n      } else {\n        file.value = null;\n        fileError.value = 'Please select an image file (png or jpg)';\n      }\n    };\n\n    return {\n      handleChange: handleChange,\n      handleSubmit: handleSubmit,\n      fileError: fileError\n    };\n  }\n};","map":{"version":3,"sources":["D:\\Laragon\\www\\Osem-Salmon-PRS\\src\\views\\userProfile.vue"],"names":[],"mappings":";;;AAuBA,SAAS,GAAT,QAAoB,KAApB;AACA,OAAO,UAAP,MAAuB,0BAAvB;AAEA,eAAe;EACX,KADW,mBACH;IACJ,kBAAsC,UAAU,EAAhD;IAAA,IAAQ,QAAR,eAAQ,QAAR;IAAA,IAAkB,GAAlB,eAAkB,GAAlB;IAAA,IAAuB,WAAvB,eAAuB,WAAvB;;IAEA,IAAM,IAAG,GAAI,GAAG,CAAC,IAAD,CAAhB;IACA,IAAM,SAAQ,GAAI,GAAG,CAAC,IAAD,CAArB;IACA,IAAM,KAAI,GAAI,CAAC,WAAD,EAAc,YAAd,EAA4B,WAA5B,CAAd,CALI,CAOJ;;IACA,IAAM,YAAW;MAAA,mEAAI;QAAA;UAAA;YAAA;cAAA;gBAAA,KACb,IAAI,CAAC,KADQ;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAGP,WAAW,CAAC,IAAI,CAAC,KAAN,CAHJ;;cAAA;gBAIb,OAAO,CAAC,GAAR,CAAY,wBAAwB,GAAG,CAAC,KAAxC;;cAJa;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAX,YAAW;QAAA;MAAA;IAAA,GAAjB,CARI,CAgBJ;;;IACA,IAAM,YAAW,GAAI,SAAf,YAAe,CAAC,CAAD,EAAO;MACxB,IAAI,QAAO,GAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,CAAf,CAAf;MACA,OAAO,CAAC,GAAR,CAAY,QAAZ;;MAEA,IAAI,QAAO,IAAK,KAAK,CAAC,QAAN,CAAe,QAAQ,CAAC,IAAxB,CAAhB,EAA+C;QAC3C,IAAI,CAAC,KAAL,GAAa,QAAb;QACA,SAAS,CAAC,KAAV,GAAkB,IAAlB;MACJ,CAHA,MAGO;QACH,IAAI,CAAC,KAAL,GAAa,IAAb;QACA,SAAS,CAAC,KAAV,GAAkB,0CAAlB;MACJ;IACJ,CAXA;;IAaA,OAAO;MAAE,YAAY,EAAZ,YAAF;MAAgB,YAAY,EAAZ,YAAhB;MAA8B,SAAQ,EAAR;IAA9B,CAAP;EACJ;AAhCW,CAAf","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col\">\r\n            <form @submit.prevent=\"handleSubmit\">\r\n               <input type=\"file\" @change=\"handleChange\">\r\n               {{ fileError }}\r\n               <button>submit</button>\r\n            </form>\r\n            \r\n        </div>\r\n        <div class=\"col\">col 2</div>\r\n        <div class=\"col\">col 3</div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col\">col 1</div>\r\n        <div class=\"col\">col 2</div>\r\n        <div class=\"col\">col 3</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport useStorage from '@/composables/useStorage'\r\n\r\nexport default {\r\n    setup() {\r\n        const { filePath, url, uploadImage} = useStorage()\r\n\r\n        const file = ref(null)\r\n        const fileError = ref(null)\r\n        const types = ['image/png', 'image/jpeg', 'image/jpg']\r\n\r\n        //submit image\r\n        const handleSubmit = async () => {\r\n            if (file.value){\r\n                //console.log(\"submitted \" + file.value)\r\n                await uploadImage(file.value)\r\n                console.log('image uploaded url:' + url.value)\r\n            }\r\n        }\r\n        \r\n        //handle image name\r\n        const handleChange = (e) => {\r\n            let selected = e.target.files[0]\r\n            console.log(selected)\r\n\r\n            if (selected && types.includes(selected.type)) {\r\n                file.value = selected\r\n                fileError.value = null\r\n            } else {\r\n                file.value = null\r\n                fileError.value = 'Please select an image file (png or jpg)'\r\n            }\r\n        }\r\n\r\n        return { handleChange, handleSubmit, fileError }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}